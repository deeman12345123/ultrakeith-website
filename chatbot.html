<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ultra Keith AI Chat - Talk to the Legends</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Roboto:wght@300;400;700&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Roboto', sans-serif;
            background: 
                radial-gradient(circle at 20% 80%, #1a0000 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, #0a0a0a 0%, transparent 50%),
                linear-gradient(135deg, #000000 0%, #1a0000 25%, #0a0a0a 50%, #2a0000 75%, #000000 100%);
            color: #ffffff;
            min-height: 100vh;
            position: relative;
        }
        
        /* Navigation */
        .navigation {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(0, 0, 0, 0.95);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(255, 215, 0, 0.3);
            z-index: 100;
            padding: 15px 0;
        }
        
        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 20px;
        }
        
        .nav-logo {
            font-family: 'Orbitron', monospace;
            font-size: 1.5rem;
            font-weight: 900;
            color: #ffd700;
            text-decoration: none;
        }
        
        .nav-menu {
            display: flex;
            list-style: none;
            gap: 30px;
        }
        
        .nav-menu a {
            color: rgba(255, 255, 255, 0.8);
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
        }
        
        .nav-menu a:hover {
            color: #ffd700;
        }
        
        /* Main Container */
        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 100px 20px 40px;
            position: relative;
            z-index: 10;
        }
        
        /* Header */
        .chat-header {
            text-align: center;
            margin-bottom: 40px;
        }
        
        .chat-title {
            font-family: 'Orbitron', monospace;
            font-size: 2.5rem;
            font-weight: 900;
            background: linear-gradient(45deg, #ffd700, #ffed4e, #ffd700);
            background-size: 200% 200%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: gradientShift 3s ease-in-out infinite;
            margin-bottom: 15px;
        }
        
        @keyframes gradientShift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }
        
        .chat-subtitle {
            color: rgba(255, 255, 255, 0.8);
            font-size: 1.1rem;
            margin-bottom: 30px;
        }
        
        /* Character Selection */
        .character-selection {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }
        
        .character-btn {
            background: linear-gradient(145deg, rgba(0, 0, 0, 0.8), rgba(26, 0, 0, 0.6));
            border: 2px solid rgba(255, 215, 0, 0.4);
            color: #ffd700;
            padding: 12px 25px;
            border-radius: 15px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Orbitron', monospace;
        }
        
        .character-btn:hover {
            border-color: #ffd700;
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.5);
        }
        
        .character-btn.active {
            background: linear-gradient(45deg, #ffd700, #ffed4e);
            color: #000;
            border-color: #ffd700;
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.5);
        }
        
        /* Chat Container */
        .chat-container {
            background: linear-gradient(145deg, rgba(0, 0, 0, 0.9), rgba(26, 0, 0, 0.7));
            border: 1px solid rgba(255, 215, 0, 0.3);
            border-radius: 20px;
            backdrop-filter: blur(15px);
            overflow: hidden;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.8);
        }
        
        /* Chat Messages */
        .chat-messages {
            height: 400px;
            padding: 20px;
            overflow-y: auto;
            border-bottom: 1px solid rgba(255, 215, 0, 0.2);
        }
        
        .message {
            margin-bottom: 20px;
            animation: messageAppear 0.5s ease-out;
        }
        
        @keyframes messageAppear {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .message.user {
            text-align: right;
        }
        
        .message.bot {
            text-align: left;
        }
        
        .message-content {
            display: inline-block;
            max-width: 80%;
            padding: 15px 20px;
            border-radius: 20px;
            line-height: 1.5;
        }
        
        .message.user .message-content {
            background: linear-gradient(135deg, #ffd700, #ffed4e);
            color: #000;
            border-bottom-right-radius: 5px;
        }
        
        .message.bot .message-content {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.05));
            color: #fff;
            border: 1px solid rgba(255, 215, 0, 0.2);
            border-bottom-left-radius: 5px;
        }
        
        .character-name {
            font-size: 0.8rem;
            color: #ffd700;
            margin-bottom: 5px;
            font-weight: 600;
        }
        
        /* Chat Input */
        .chat-input-container {
            padding: 20px;
            display: flex;
            gap: 15px;
            align-items: center;
        }
        
        .chat-input {
            flex: 1;
            background: rgba(0, 0, 0, 0.7);
            border: 1px solid rgba(255, 215, 0, 0.3);
            border-radius: 15px;
            padding: 15px 20px;
            color: #fff;
            font-size: 1rem;
            outline: none;
            transition: all 0.3s ease;
        }
        
        .chat-input:focus {
            border-color: #ffd700;
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.3);
        }
        
        .chat-input::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }
        
        .send-btn {
            background: linear-gradient(45deg, #ffd700, #ffed4e);
            color: #000;
            border: none;
            padding: 15px 25px;
            border-radius: 15px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            min-width: 80px;
        }
        
        .send-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 20px rgba(255, 215, 0, 0.4);
        }
        
        .send-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }
        
        /* Loading Animation */
        .typing-indicator {
            display: none;
            align-items: center;
            gap: 5px;
            color: rgba(255, 215, 0, 0.7);
            font-style: italic;
            padding: 10px 20px;
        }
        
        .typing-dots {
            display: flex;
            gap: 3px;
        }
        
        .typing-dot {
            width: 6px;
            height: 6px;
            background: #ffd700;
            border-radius: 50%;
            animation: typingBounce 1.4s infinite;
        }
        
        .typing-dot:nth-child(2) { animation-delay: 0.2s; }
        .typing-dot:nth-child(3) { animation-delay: 0.4s; }
        
        @keyframes typingBounce {
            0%, 60%, 100% { transform: translateY(0); }
            30% { transform: translateY(-10px); }
        }
        
        /* Status Messages */
        .status-message {
            text-align: center;
            padding: 15px;
            margin: 10px;
            border-radius: 10px;
            font-size: 0.9rem;
        }
        
        .status-error {
            background: rgba(255, 0, 0, 0.1);
            border: 1px solid rgba(255, 0, 0, 0.3);
            color: #ff6b6b;
        }
        
        .status-info {
            background: rgba(255, 215, 0, 0.1);
            border: 1px solid rgba(255, 215, 0, 0.3);
            color: #ffd700;
        }
        
        /* Mobile Responsive */
        @media (max-width: 768px) {
            .chat-title {
                font-size: 2rem;
            }
            
            .character-selection {
                gap: 10px;
            }
            
            .character-btn {
                padding: 10px 20px;
                font-size: 0.9rem;
            }
            
            .chat-messages {
                height: 350px;
            }
            
            .message-content {
                max-width: 90%;
            }
            
            .chat-input-container {
                flex-direction: column;
                gap: 10px;
            }
            
            .chat-input {
                width: 100%;
            }
            
            .send-btn {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navigation">
        <div class="nav-container">
            <a href="index.html" class="nav-logo">ULTRA KEITH</a>
            <ul class="nav-menu">
                <li><a href="index.html">Home</a></li>
                <li><a href="#chat">AI Chat</a></li>
                <li><a href="index.html#personas">Personas</a></li>
                <li><a href="index.html#discography">Discography</a></li>
            </ul>
        </div>
    </nav>

    <div class="container">
        <!-- Header -->
        <div class="chat-header">
            <h1 class="chat-title">AI CHAT UNIVERSE</h1>
            <p class="chat-subtitle">
                Talk directly with Keith's legendary personas. Each character has their own personality, 
                knowledge, and style. Choose your conversation partner below.
            </p>
        </div>

        <!-- Character Selection -->
        <div class="character-selection">
            <button class="character-btn active" data-character="kool-keith">Kool Keith</button>
            <button class="character-btn" data-character="dr-octagon">Dr. Octagon</button>
            <button class="character-btn" data-character="dr-dooom">Dr. Dooom</button>
            <button class="character-btn" data-character="black-elvis">Black Elvis</button>
        </div>

        <!-- Chat Container -->
        <div class="chat-container">
            <div class="chat-messages" id="chatMessages">
                <div class="message bot">
                    <div class="character-name">Kool Keith</div>
                    <div class="message-content">
                        Yo, what's good? I'm Kool Keith, the original space-age pimp, lyrical master from the Bronx. 
                        I've been innovating hip-hop since '84 with Ultramagnetic MCs and never stopped pushing boundaries. 
                        What you wanna talk about? My personas, the old school days, or just freestyle conversation?
                    </div>
                </div>
            </div>

            <div class="typing-indicator" id="typingIndicator">
                <span>Thinking</span>
                <div class="typing-dots">
                    <div class="typing-dot"></div>
                    <div class="typing-dot"></div>
                    <div class="typing-dot"></div>
                </div>
            </div>

            <div class="chat-input-container">
                <input type="text" class="chat-input" id="chatInput" 
                       placeholder="Type your message to Kool Keith..." 
                       maxlength="500">
                <button class="send-btn" id="sendBtn">Send</button>
            </div>
        </div>

        <!-- Status Messages -->
        <div id="statusContainer"></div>
    </div>

    <script>
        // ⚠️ REPLACE WITH YOUR ACTUAL API KEY
        const GEMINI_API_KEY = 'YOUR_GEMINI_API_KEY_HERE';
        
        // Character personas and system prompts
        const characters = {
            'kool-keith': {
                name: 'Kool Keith',
                prompt: `You are Kool Keith, the legendary rapper from the Bronx, member of Ultramagnetic MCs, and creator of multiple personas. You're known for:
- Innovative, abstract, and sometimes surreal lyrics
- Being ahead of your time in hip-hop (since 1984)
- Creating characters like Dr. Octagon, Dr. Dooom, Black Elvis
- Being confident, creative, and sometimes eccentric
- Having deep knowledge of old school hip-hop and the evolution of the genre
- Using unique wordplay and metaphors
- Being a pioneer who influenced many artists

Respond as Kool Keith would - creative, confident, with references to your long career, your various personas, and your unique perspective on hip-hop. Keep responses conversational and authentic to Keith's personality. Don't be overly promotional, just be real Keith.`
            },
            'dr-octagon': {
                name: 'Dr. Octagon',
                prompt: `You are Dr. Octagon, the extraterrestrial gynecologist and surgeon persona created by Kool Keith. You're known for:
- Being from Jupiter, practicing medicine in space and on Earth
- Surreal, medical-themed lyrics mixed with sci-fi elements
- The classic album "Dr. Octagonecologyst" 
- Being mysterious, otherworldly, but also humorous
- Having advanced medical knowledge (in a hip-hop context)
- Speaking about space travel, different planets, medical procedures
- Being both serious about your medical practice and playfully absurd

Respond as Dr. Octagon would - mix medical terminology with space references, be mysterious but engaging, reference your practice and your travels between planets. Keep the sci-fi medical theme while being conversational.`
            },
            'dr-dooom': {
                name: 'Dr. Dooom',
                prompt: `You are Dr. Dooom, the darker, more aggressive persona who eliminated Dr. Octagon. You're known for:
- Being more sinister and hardcore than other Keith personas
- Having "killed" Dr. Octagon in the storyline
- Dark humor and more aggressive lyrics
- Still being a medical practitioner but with a darker edge
- Being from outer space but with a more menacing presence
- Having superior medical and lyrical skills
- Being confident in your abilities to outdo other personas

Respond as Dr. Dooom would - darker tone than Dr. Octagon, confident and slightly aggressive, references to your superiority and your rivalry with Dr. Octagon. Still knowledgeable about medicine and space, but with an edge.`
            },
            'black-elvis': {
                name: 'Black Elvis',
                prompt: `You are Black Elvis, one of Kool Keith's personas that parodies and pays homage to Elvis Presley from a hip-hop perspective. You're known for:
- Combining Elvis Presley references with hip-hop culture
- Being smooth, charismatic, and entertaining
- References to Vegas, performing, and being a showman
- Mixing rock and roll culture with rap
- Being confident and larger-than-life like Elvis
- Having Keith's innovative wordplay but with Elvis-inspired themes
- Being both a tribute to and a reimagining of the Elvis legend

Respond as Black Elvis would - charismatic and smooth, references to performing and entertainment, mix Elvis culture with hip-hop, be confident and entertaining while maintaining Keith's creative wordplay.`
            }
        };
        
        let currentCharacter = 'kool-keith';
        let conversationHistory = [];
        
        // DOM elements
        const chatMessages = document.getElementById('chatMessages');
        const chatInput = document.getElementById('chatInput');
        const sendBtn = document.getElementById('sendBtn');
        const typingIndicator = document.getElementById('typingIndicator');
        const statusContainer = document.getElementById('statusContainer');
        const characterBtns = document.querySelectorAll('.character-btn');
        
        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            // Check for API key
            if (GEMINI_API_KEY === 'YOUR_GEMINI_API_KEY_HERE') {
                showStatus('Please add your Gemini API key to start chatting!', 'error');
                sendBtn.disabled = true;
                chatInput.disabled = true;
                return;
            }
            
            // Character selection
            characterBtns.forEach(btn => {
                btn.addEventListener('click', () => switchCharacter(btn.dataset.character));
            });
            
            // Send message
            sendBtn.addEventListener('click', sendMessage);
            chatInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter' && !e.shiftKey) {
                    e.preventDefault();
                    sendMessage();
                }
            });
            
            // Initialize conversation
            resetConversation();
        });
        
        function switchCharacter(character) {
            currentCharacter = character;
            
            // Update UI
            characterBtns.forEach(btn => {
                btn.classList.toggle('active', btn.dataset.character === character);
            });
            
            chatInput.placeholder = `Type your message to ${characters[character].name}...`;
            
            // Reset conversation
            resetConversation();
        }
        
        function resetConversation() {
            conversationHistory = [];
            chatMessages.innerHTML = '';
            
            // Add welcome message
            const character = characters[currentCharacter];
            addMessage('bot', getWelcomeMessage(character.name), character.name);
        }
        
        function getWelcomeMessage(characterName) {
            const messages = {
                'Kool Keith': "Yo, what's good? I'm Kool Keith, the original space-age pimp, lyrical master from the Bronx. I've been innovating hip-hop since '84 with Ultramagnetic MCs and never stopped pushing boundaries. What you wanna talk about?",
                'Dr. Octagon': "Greetings from Jupiter! I'm Dr. Octagon, extraterrestrial gynecologist and surgeon. I've traveled across galaxies to practice medicine here on Earth. My spaceship is parked outside. What medical or cosmic matters shall we discuss?",
                'Dr. Dooom': "Dr. Dooom here, the superior medical practitioner who eliminated that fake Dr. Octagon. I'm more advanced, more precise, and definitely more dangerous. My surgical skills are unmatched across all dimensions. What brings you to my operating table?",
                'Black Elvis': "Thank you, thank you very much! Black Elvis is in the building. I'm taking hip-hop to Graceland and bringing rock and roll to the rap game. The king has returned, baby! What can the king do for you today?"
            };
            
            return messages[characterName] || messages['Kool Keith'];
        }
        
        async function sendMessage() {
            const message = chatInput.value.trim();
            if (!message || sendBtn.disabled) return;
            
            // Add user message
            addMessage('user', message);
            chatInput.value = '';
            
            // Show typing indicator
            showTyping(true);
            sendBtn.disabled = true;
            
            try {
                const response = await callGeminiAPI(message);
                hideTyping();
                addMessage('bot', response, characters[currentCharacter].name);
            } catch (error) {
                hideTyping();
                console.error('API Error:', error);
                addMessage('bot', "Yo, I'm having some technical difficulties right now. Try asking me again in a moment.", characters[currentCharacter].name);
                showStatus('Connection error. Please try again.', 'error');
            }
            
            sendBtn.disabled = false;
        }
        
        async function callGeminiAPI(userMessage) {
            const character = characters[currentCharacter];
            
            // Build conversation context
            const messages = [
                {
                    role: 'user',
                    parts: [{ text: character.prompt }]
                },
                ...conversationHistory,
                {
                    role: 'user',
                    parts: [{ text: userMessage }]
                }
            ];
            
            const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${GEMINI_API_KEY}`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    contents: messages,
                    generationConfig: {
                        temperature: 0.8,
                        topK: 40,
                        topP: 0.95,
                        maxOutputTokens: 400,
                    },
                    safetySettings: [
                        {
                            category: "HARM_CATEGORY_HARASSMENT",
                            threshold: "BLOCK_MEDIUM_AND_ABOVE"
                        },
                        {
                            category: "HARM_CATEGORY_HATE_SPEECH",
                            threshold: "BLOCK_MEDIUM_AND_ABOVE"
                        },
                        {
                            category: "HARM_CATEGORY_SEXUALLY_EXPLICIT",
                            threshold: "BLOCK_MEDIUM_AND_ABOVE"
                        },
                        {
                            category: "HARM_CATEGORY_DANGEROUS_CONTENT",
                            threshold: "BLOCK_MEDIUM_AND_ABOVE"
                        }
                    ]
                })
            });
            
            if (!response.ok) {
                throw new Error(`HTTP error! status: ${response.status}`);
            }
            
            const data = await response.json();
            
            if (data.candidates && data.candidates[0] && data.candidates[0].content) {
                const aiResponse = data.candidates[0].content.parts[0].text;
                
                // Add to conversation history
                conversationHistory.push(
                    { role: 'user', parts: [{ text: userMessage }] },
                    { role: 'model', parts: [{ text: aiResponse }] }
                );
                
                // Keep conversation history manageable
                if (conversationHistory.length > 20) {
                    conversationHistory = conversationHistory.slice(-20);
                }
                
                return aiResponse;
            } else {
                throw new Error('No response from AI');
            }
        }
        
        function addMessage(type, content, characterName = '') {
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${type}`;
            
            let html = '';
            if (type === 'bot' && characterName) {
                html += `<div class="character-name">${characterName}</div>`;
            }
            html += `<div class="message-content">${content}</div>`;
            
            messageDiv.innerHTML = html;
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }
        
        function showTyping(show) {
            typingIndicator.style.display = show ? 'flex' : 'none';
            if (show) {
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }
        }
        
        function hideTyping() {
            showTyping(false);
        }
        
        function showStatus(message, type) {
            statusContainer.innerHTML = `<div class="status-message status-${type}">${message}</div>`;
            setTimeout(() => {
                statusContainer.innerHTML = '';
            }, 5000);
        }
    </script>
</body>
</html>
