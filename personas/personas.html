<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kool Keith Personas - Trading Cards</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="https://ultrakeith.com/favicon.ico">
    <link rel="icon" type="image/png" sizes="32x32" href="https://ultrakeith.com/favicon-32x32.png">
    <link rel="apple-touch-icon" sizes="180x180" href="https://ultrakeith.com/apple-touch-icon.png">
    
    <!-- Shared CSS -->
    <link rel="stylesheet" href="../shared/styles.css">
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Roboto:wght@300;400;700&display=swap');
        
        :root {
            --mystical-blue: #00BFFF;
            --energy-purple: #8A2BE2;
            --plasma-pink: #FF1493;
        }
        
        .personas-header {
            text-align: center;
            margin-bottom: 30px;
            padding: var(--space-lg) 0;
        }
        
        .personas-main-title {
            font-family: 'Orbitron', monospace;
            font-size: clamp(2rem, 5vw, 3rem);
            font-weight: 900;
            color: var(--keith-gold);
            text-transform: uppercase;
            letter-spacing: 3px;
            margin-bottom: 10px;
            text-shadow: 0 0 20px rgba(218, 181, 71, 0.6);
        }
        
        .personas-subtitle {
            font-size: 1.2rem;
            color: var(--keith-white-75);
            margin-bottom: 20px;
        }
        
        /* DECK CONTAINER */
        .deck-container {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 60vh;
            margin: 40px 0;
            position: relative;
        }
        
        .deck-container.hidden {
            display: none;
        }
        
        /* DECK BOX */
        .deck-box {
            width: 350px;
            height: 550px;
            background: linear-gradient(145deg, #1a1a1a 0%, #000000 100%);
            border: 1px solid var(--keith-gold);
            border-radius: var(--radius-xl);
            cursor: pointer;
            position: relative;
            transition: all var(--transition);
        }
        
        .deck-box:hover {
            transform: scale(1.05);
            box-shadow: 0 0 30px rgba(218, 181, 71, 0.5);
        }
        
        .deck-box.mystical-hover {
            animation: mystical-pulse 2s ease-in-out infinite;
        }
        
        @keyframes mystical-pulse {
            0%, 100% { 
                filter: drop-shadow(0 0 15px rgba(0, 191, 255, 0.4));
                transform: scale(1.05);
            }
            50% { 
                filter: drop-shadow(0 0 25px rgba(138, 43, 226, 0.7));
                transform: scale(1.08);
            }
        }
        
        .deck-box.cracking {
            animation: deck-shake 0.8s ease-in-out infinite;
        }
        
        @keyframes deck-shake {
            0%, 100% { transform: translateX(0) scale(1.05); }
            25% { transform: translateX(-2px) scale(1.06); }
            75% { transform: translateX(2px) scale(1.04); }
        }
        
        /* DECK CONTENT */
        .deck-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            color: var(--keith-gold);
            font-family: 'Orbitron', monospace;
        }
        
        .deck-logo {
            width: 200px;
            height: 200px;
            margin-bottom: 30px;
            background: transparent;
            border: none;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.5s ease;
            overflow: hidden;
        }
        
        .deck-logo img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            filter: brightness(0.9);
        }
        
        .deck-box.energy-building .deck-logo {
            animation: logo-energy 1s ease-in-out infinite alternate;
        }
        
        @keyframes logo-energy {
            0% { 
                filter: brightness(1.2) drop-shadow(0 0 15px var(--mystical-blue));
                transform: scale(1);
            }
            100% { 
                filter: brightness(2) drop-shadow(0 0 25px var(--energy-purple));
                transform: scale(1.05);
            }
        }
        
        /* CLICK HINT */
        .click-hint {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 1rem;
            animation: mystical-pulse-text 2s infinite;
            text-align: center;
            white-space: nowrap;
            color: var(--keith-gold);
            font-family: 'Orbitron', monospace;
        }
        
        @keyframes mystical-pulse-text {
            0%, 100% { 
                opacity: 0.6; 
                text-shadow: 0 0 8px currentColor;
                transform: translateX(-50%) scale(1);
            }
            50% { 
                opacity: 1; 
                text-shadow: 0 0 20px currentColor, 0 0 30px var(--mystical-blue);
                transform: translateX(-50%) scale(1.02);
            }
        }
        
        /* PARTICLES */
        .mystical-particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: var(--mystical-blue);
            border-radius: 50%;
            pointer-events: none;
            z-index: 1001;
            opacity: 0;
            box-shadow: 0 0 6px currentColor;
        }
        
        .energy-wave {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 0;
            height: 0;
            border: 3px solid var(--energy-purple);
            border-radius: 50%;
            opacity: 0;
            pointer-events: none;
            z-index: 1000;
        }
        
        .screen-flash {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: radial-gradient(circle, 
                rgba(255, 255, 255, 0.9) 0%, 
                rgba(0, 191, 255, 0.6) 30%, 
                rgba(138, 43, 226, 0.3) 60%, 
                transparent 100%);
            opacity: 0;
            pointer-events: none;
            z-index: 9999;
        }
        
        .card-burst {
            position: absolute;
            width: 20px;
            height: 30px;
            background: linear-gradient(145deg, var(--keith-gold), var(--keith-gold-light));
            border-radius: 3px;
            opacity: 0;
            pointer-events: none;
            z-index: 1002;
            box-shadow: 0 0 8px var(--keith-gold);
        }
        
        @keyframes particle-burst {
            0% {
                opacity: 1;
                transform: scale(0) rotate(0deg);
            }
            20% {
                opacity: 1;
                transform: scale(1.5) rotate(90deg);
            }
            80% {
                opacity: 0.8;
                transform: scale(1) rotate(270deg);
            }
            100% {
                opacity: 0;
                transform: scale(0) rotate(360deg);
            }
        }
        
        @keyframes energy-wave-expand {
            0% {
                width: 0;
                height: 0;
                opacity: 1;
            }
            50% {
                opacity: 0.8;
            }
            100% {
                width: 600px;
                height: 600px;
                opacity: 0;
            }
        }
        
        @keyframes screen-flash-effect {
            0% { opacity: 0; }
            15% { opacity: 1; }
            35% { opacity: 0.8; }
            100% { opacity: 0; }
        }
        
        /* CARDS */
        .cards-container {
            display: none;
            max-width: 1200px;
            margin: 0 auto;
            position: relative;
        }
        
        .cards-container.show {
            display: block;
        }
        
        .cards-grid {
            display: grid;
            gap: 30px;
            justify-content: center;
            padding: 20px 0;
        }
        
        @media (max-width: 768px) {
            .cards-grid {
                grid-template-columns: 1fr;
                max-width: 320px;
                margin: 0 auto;
            }
        }
        
        @media (min-width: 769px) and (max-width: 1200px) {
            .cards-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        @media (min-width: 1201px) {
            .cards-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }
        
        .trading-card {
            width: 350px;
            height: 550px;
            perspective: 1000px;
            cursor: pointer;
            justify-self: center;
            opacity: 0;
            transform: scale(0.1);
            transition: all var(--transition);
        }
        
        /* Mobile: Only first card animates (saves performance) */
        @media (max-width: 768px) {
            .trading-card:not(:first-child).card-flying {
                animation: card-scale-only 0.8s ease-out both;
            }
            
            .trading-card:first-child.card-flying {
                animation: 
                    card-scale 1.2s ease-out both,
                    card-smooth-spin 1.2s linear both;
                transform-origin: center center;
            }
        }
        
        /* Desktop: All cards animate but with consistent timing */
        @media (min-width: 769px) {
            .trading-card.card-flying {
                animation: 
                    card-scale 1.2s ease-out both,
                    card-smooth-spin 1.2s linear both;
                transform-origin: center center;
                will-change: transform;
            }
        }
        
        @keyframes card-scale-only {
            0% {
                opacity: 1;
                transform: scale(0.1);
            }
            100% {
                opacity: 1;
                transform: scale(1);
            }
        }
        
        @keyframes card-scale {
            0% {
                opacity: 1;
                transform: scale(0.1);
            }
            100% {
                opacity: 1;
                transform: scale(1);
            }
        }
        
        @keyframes card-smooth-spin {
            0% {
                transform: rotateZ(0turn);
            }
            100% {
                transform: rotateZ(1turn);
            }
        }
        
        .trading-card.card-landed {
            opacity: 1;
            transform: scale(1) rotateZ(0deg);
            animation: none;
        }
        
        .trading-card.card-flying .card-inner {
            animation: none;
        }
        
        .card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            transition: transform 0.8s ease;
            transform-style: preserve-3d;
        }
        
        .trading-card.flipped .card-inner {
            transform: rotateY(180deg);
        }
        
        .card-front, .card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: var(--radius-xl);
            border: 1px solid var(--keith-gold);
            background: linear-gradient(145deg, #1a1a1a 0%, #000000 100%);
            box-shadow: var(--shadow-lg);
        }
        
        .card-front {
            transform: rotateY(0deg);
        }
        
        .card-back {
            transform: rotateY(180deg);
        }
        
        .card-front::before, .card-back::before {
            content: '';
            position: absolute;
            top: 8px;
            left: 8px;
            right: 8px;
            bottom: 8px;
            border: 1px solid var(--keith-white-75);
            border-radius: 6px;
            opacity: 0.8;
        }
        
        .front-container {
            position: absolute;
            top: 15px;
            left: 15px;
            right: 15px;
            bottom: 70px;
            display: flex;
            flex-direction: column;
        }
        
        .card-header {
            background: linear-gradient(145deg, #0F0505 0%, #1a1a1a 100%);
            border: 1px solid var(--keith-gold);
            border-radius: 6px;
            padding: 10px;
            margin-bottom: 15px;
        }
        
        .persona-title {
            font-family: 'Orbitron', monospace;
            font-size: 1rem;
            font-weight: 900;
            color: var(--keith-gold);
            text-transform: uppercase;
            text-align: center;
            line-height: 1.1;
        }
        
        .persona-title.long-title {
            font-size: 0.75rem;
            letter-spacing: 0.4px;
            line-height: 1.0;
        }
        
        .image-container {
            width: 200px;
            height: 200px;
            margin: 0 auto 10px auto;
            border: 1px solid var(--keith-white-75);
            border-radius: 8px;
            background: #0F0505;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--keith-white-75);
            font-size: 0.8rem;
            overflow: hidden;
        }
        
        .image-container img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 6px;
        }
        
        .stats-section {
            flex: 1;
            margin-bottom: 8px;
        }
        
        .stat-item {
            display: flex;
            margin-bottom: 8px;
            font-size: 0.85rem;
        }
        
        .stat-label {
            font-weight: 700;
            color: var(--keith-white-75);
            width: 70px;
            flex-shrink: 0;
            font-size: 0.8rem;
        }
        
        .stat-value {
            color: var(--keith-white);
            flex: 1;
            font-size: 0.8rem;
            line-height: 1.2;
        }
        
        .quote-section {
            padding: 10px;
            border-top: 1px solid var(--keith-white-75);
            font-style: italic;
            color: var(--keith-white-75);
            font-size: 0.75rem;
            text-align: center;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 6px;
            line-height: 1.3;
        }
        
        .back-container {
            position: absolute;
            top: 15px;
            left: 15px;
            right: 15px;
            bottom: 120px;
            display: flex;
            flex-direction: column;
        }
        
        .back-title {
            font-family: 'Orbitron', monospace;
            font-size: 1rem;
            font-weight: 900;
            color: var(--keith-gold);
            margin-bottom: 15px;
            text-align: center;
            text-transform: uppercase;
            line-height: 1.1;
        }
        
        .back-title.long-title {
            font-size: 0.75rem;
            letter-spacing: 0.4px;
            line-height: 1.0;
        }
        
        .info-section {
            margin-bottom: 12px;
        }
        
        .section-title {
            font-family: 'Orbitron', monospace;
            font-size: 0.75rem;
            font-weight: 700;
            color: var(--keith-white-75);
            margin-bottom: 5px;
            text-transform: uppercase;
        }
        
        .section-content {
            font-size: 0.75rem;
            line-height: 1.4;
            color: var(--keith-white-75);
        }
        
        .logo-space {
            position: absolute;
            bottom: 25px;
            left: 15px;
            right: 15px;
            height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .back-logo {
            width: 180px;
            height: auto;
            opacity: 0.8;
            max-height: 100px;
            object-fit: contain;
        }
        
        .mc-logo {
            position: absolute;
            bottom: 15px;
            right: 10px;
            width: 40px;
            height: 40px;
            z-index: 20;
        }
        
        .mc-logo-img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }
        
        .card-number {
            position: absolute;
            bottom: 15px;
            left: 15px;
            font-family: 'Orbitron', monospace;
            font-size: 0.8rem;
            font-weight: 700;
            color: var(--keith-white-75);
            background: rgba(0, 0, 0, 0.8);
            padding: 4px 8px;
            border-radius: 4px;
            border: 1px solid var(--keith-white-75);
        }
        
        .flip-hint {
            position: absolute;
            bottom: 15px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 0.7rem;
            color: var(--keith-white-55);
            font-family: 'Orbitron', monospace;
        }
        
        .next-button-container {
            display: none;
            justify-content: center;
            margin: 50px 0 30px 0;
        }
        
        .next-button-container.show {
            display: flex;
        }
        
        .next-btn {
            font-family: 'Orbitron', monospace;
            font-weight: 700;
            padding: 15px 40px;
            border: 2px solid var(--keith-gold);
            background: linear-gradient(145deg, #1a1a1a 0%, #000000 100%);
            color: var(--keith-gold);
            border-radius: var(--radius-md);
            cursor: pointer;
            transition: all var(--transition);
            text-transform: uppercase;
            text-decoration: none;
            font-size: 1rem;
        }
        
        .next-btn:hover {
            background: linear-gradient(145deg, var(--keith-gold) 0%, var(--keith-gold-light) 100%);
            color: var(--keith-black);
            transform: translateY(-2px);
        }
    </style>
</head>
<body>
    <!-- Navigation and banner inserted automatically by shared/navigation.js -->
    
    <main class="main">
        <div class="personas-header">
            <h1 class="personas-main-title">Personas</h1>
            <p class="personas-subtitle">Official Collection</p>
        </div>
        
        <div class="deck-container" id="deckContainer">
            <div class="deck-box" id="deckBox">
                <!-- DECK CONTENT -->
                <div class="deck-content">
                    <div class="deck-logo">
                        <img src="logoback.png" alt="Ultra Keith Logo" onerror="this.style.display='none'">
                    </div>
                </div>
                
                <!-- CLICK HINT -->
                <div class="click-hint">Click to Open the Deck</div>
            </div>
        </div>
        
        <div class="cards-container" id="cardsContainer">
            <div class="cards-grid" id="cardsGrid">
            </div>
        </div>
        
        <div class="next-button-container" id="nextButtonContainer">
            <a href="#" class="next-btn">Next →</a>
        </div>
    </main>

    <!-- Footer inserted automatically by shared/navigation.js -->

    <!-- Shared Navigation System -->
    <script src="../shared/navigation.js"></script>
    
    <!-- Page-specific JavaScript -->
    <script>
        console.log('🚀 Starting Ultra Keith Personas...');
        
        // Configuration
        var CONFIG = {
            ANIMATION_SPEEDS: {
                PORTAL_PHASES: [0, 600, 1200, 1600, 2200, 3000],
                CARD_FLIGHT: 1200,
                CARD_LAUNCH_INTERVAL: 100,
                PARTICLE_BURST: 2000,
                ENERGY_WAVE: 1500,
                SCREEN_FLASH: 2000
            },
            CARD_LIMITS: {
                LONG_TITLE_THRESHOLD: 20
            },
            PARTICLE_COUNTS: {
                MYSTICAL_PARTICLES: 60,
                ENERGY_WAVES: 6,
                CARD_BURSTS: 40
            },
            IMAGES: {
                DECK_LOGO: 'logoback.png',
                MC_LOGO: 'mc.png',
                BACK_LOGO: 'logoback.png',
                CARD_IMAGE: 'koolkeith.png'
            },
            COLORS: {
                PARTICLE_COLORS: ['var(--mystical-blue)', 'var(--energy-purple)', 'var(--plasma-pink)', 'var(--keith-gold)']
            },
            FEATURES: {
                HOVER_EFFECTS: true,
                CARD_ROTATION: true,
                SCREEN_FLASH: true,
                CONSOLE_LOGGING: true
            }
        };
        
        // Persona data
        var personasData = [
            {
                number: "001", name: "Activity", year: "1984", era: "old", 
                age: "20 (young breakdancer age)", origin: "NYC",
                likes: "Breakdancing, popping and rocking", 
                dislikes: "Sitting still, slow music",
                quote: "I Pop it like that, Rock it like that...",
                biography: "Keith's first documented persona from the NYC Breakers breakdancing crew. Activity represents the foundation of Keith's character creation, emerging from early hip-hop culture before rap dominated.",
                debut: "NYC Breakers (1984) - Pre-rap career", 
                themes: "Breakdancing culture, early hip-hop foundation, character creation origins",
                image: "activity.jpg"
            },
            {
                number: "002", name: "Kool Keith", year: "1988", era: "old", 
                age: "25", origin: "Bronx, NY",
                likes: "Porn, Animals", 
                dislikes: "Girls who are not innovative that don't like to take pictures",
                quote: "I'm the master of the game, all the girls know my name.",
                biography: "Keith's primary rap persona. The revolutionary MC who broke all rules with abstract wordplay, sci-fi concepts, and unconventional rhyme patterns that influenced generations.",
                debut: "Critical Beatdown (1988) with Ultramagnetic MCs", 
                themes: "Complex rhymes, abstract imagery, sci-fi concepts, innovative flow",
                image: "koolkeith.jpg"
            },
            {
                number: "003", name: "MC Ultra", year: "1988", era: "old", 
                age: "24 (pre-Kool Keith maturity)", origin: "Bronx",
                likes: "Echo chambers, reverb effects, early sampling", 
                dislikes: "Wack MCs, digital delays",
                quote: "MC Ultra sound, echo through your town...",
                biography: "Early Bronx-based persona representing Keith's foundational MC identity during the late 1980s Ultramagnetic era.",
                debut: "Late 1980s (Ultramagnetic era)", 
                themes: "Bronx identity, early MC development, Ultramagnetic foundation",
                image: "mcultra.jpg"
            },
            {
                number: "004", name: "Dr. Sperm", year: "1988", era: "old", 
                age: "32 (medical school graduate age)", origin: "Laboratory test tube",
                likes: "Early rap experimentation, reproductive science, petri dishes", 
                dislikes: "Birth control, sterile environments",
                quote: "Dr. Sperm in the house, making life from scratch...",
                biography: "One of Keith's earliest aliases representing his experimental approach to rap persona development and foreshadowing his later medical-themed characters.",
                debut: "Early career alias (1988)", 
                themes: "Early rap identity, medical theme precursor, experimental persona development",
                image: "drsperm.jpg"
            },
            {
                number: "005", name: "Exotron Geiger Counter One Plus Megatron", year: "1989", era: "old", 
                age: "10,000 (robot years)", origin: "Cybertron (Scientific laboratory division)",
                likes: "Complex scientific names, radio appearances, Megatron references, radiation detection", 
                dislikes: "Simple identities, Autobots",
                quote: "Exotron readings off the meter, Geiger Counter be the leader...",
                biography: "Keith's experimental radio persona combining scientific complexity with Transformers references. Represents early character experimentation on Marley Marl's influential radio show.",
                debut: "Marley Marl In Control radio show (1989), Critical Beatdown (1988)", 
                themes: "Scientific complexity, Transformers reference, radio culture, early experimentation",
                image: "exotron.jpg"
            },
            {
                number: "006", name: "Exotron Geiger Counter One Gamma Plus Sequencer", year: "1989", era: "old", 
                age: "10,001 (upgraded model)", origin: "Cybertron (Advanced Scientific Division)",
                likes: "Complex scientific names, radio appearances, sequencer technology, gamma radiation", 
                dislikes: "Simple identities, analog equipment",
                quote: "Gamma sequences activate, Exotron don't hesitate...",
                biography: "Extended version of Keith's scientific radio persona, emphasizing sequencer technology and complex naming conventions that became his trademark.",
                debut: "Marley Marl In Control radio show (1989) - longer version", 
                themes: "Scientific complexity, sequencer technology, radio experimentation",
                image: "exotron-gamma.jpg"
            },
            {
                number: "007", name: "Big Willie Smith", year: "1995", era: "old", 
                age: "22", origin: "Uptown",
                likes: "Blondes, Cold Duck, big status, Beat Terrorists", 
                dislikes: "Landlords, Antennas",
                quote: "Keep it real, represent what? My nuts!...",
                biography: "Keith's street credibility persona from his Beat Terrorists EP era, representing raw uptown attitude and early independent releases before major label success.",
                debut: "Big Willie Smith EP (1995) with Beat Terrorists", 
                themes: "Street credibility, representing, early EP work, independent releases",
                image: "bigwilliesmith.jpg"
            },
            {
                number: "008", name: "X-74", year: "1995", era: "old", 
                age: "74 (the number in his name)", origin: "Cenobite dimension",
                likes: "Dope verses, mathematical equations, X-variables", 
                dislikes: "Wack rhymes, solved equations",
                quote: "X marks the spot where the dope verse drops...",
                biography: "Keith's Cenobites collaboration persona, exploring abstract rhyming and philosophical concepts within the underground collective's experimental approach.",
                debut: "Cenobites EP - \"Kick a Dope Verse\" (1995)", 
                themes: "Abstract rhyming, cenobite philosophy, underground collaboration",
                image: "x74.jpg"
            },
            {
                number: "009", name: "Poppa Large", year: "1992", era: "old", 
                age: "35", origin: "Bronx, NY",
                likes: "Daredevil videos, Spinning around in circles", 
                dislikes: "Quicksand, Soft Pretzels",
                quote: "I'm Poppa Large, Big Shot On The East Coast",
                biography: "Keith's East Coast supremacy persona, emphasizing regional pride and daredevil attitude during Ultramagnetic's funk era expansion.",
                debut: "Funk Your Head Up (1992) with Ultramagnetic MCs", 
                themes: "East Coast supremacy, braggadocio, daredevil attitude",
                image: "poppalarge.jpg"
            },
            {
                number: "010", name: "Rhythm X", year: "1992", era: "old", 
                age: "30", origin: "BX, New York",
                likes: "Mae West, Gastronomy", 
                dislikes: "Traffic, Soft Cauliflower",
                quote: "Rhythm X roller, my style gets critical, Brain connects, computer rhymes get physical.",
                biography: "Keith's rhythmic complexity persona, combining abstract wordplay with culinary interests and classic Hollywood references, later featured by The Prodigy.",
                debut: "Funk Your Head Up (1992) with Ultramagnetic MCs - \"Funk Radio\"", 
                themes: "Rhythmic complexity, abstract wordplay, gastronomy, crossover appeal",
                image: "rhythmx.jpg"
            },
            {
                number: "011", name: "The X", year: "1992", era: "mid", 
                age: "Infinite (X equals infinity)", origin: "Algebraic dimension",
                likes: "Four Horsemen imagery, mathematical mysteries", 
                dislikes: "Being solved, simple equations",
                quote: "The X factor remains unsolved...",
                biography: "Mysterious X-identity connected to Ultramagnetic's Four Horsemen concept, representing Keith's exploration of apocalyptic and biblical themes.",
                debut: "Ultramagnetic MC's Four Horsemen LP (inside cover) (1992)", 
                themes: "X-identity, Ultramagnetic era, apocalyptic imagery",
                image: "thex.jpg"
            },
            {
               number: "012", name: "X-Caliber", year: "1992", era: "mid", 
               age: "1000 (medieval sword age)", origin: "Stone (where Arthur pulled the sword)",
               likes: "Funk radio, sword imagery, medieval combat", 
               dislikes: "Rust, modern weapons",
               quote: "X-Caliber slice through funk like butter...",
               biography: "Sword-themed persona combining medieval weaponry with funk radio culture, representing Keith's ability to blend historical references with contemporary hip-hop.",
               debut: "Funk Your Head Up (1992) - \"Funk Radio\"", 
               themes: "Sword/weapon imagery, funk radio culture, medieval hip-hop fusion",
               image: "xcaliber.jpg"
           }
       ];
       
       var deckOpened = false;
       
       // Utility functions
       function safeRemoveElement(element) {
           if (element && element.parentNode) {
               element.parentNode.removeChild(element);
           }
       }
       
       function addClassSafely(element, className) {
           if (element && element.classList) {
               element.classList.add(className);
           }
       }
       
       function removeClassSafely(element, className) {
           if (element && element.classList) {
               element.classList.remove(className);
           }
       }
       
       function logSafely(message) {
           if (CONFIG.FEATURES.CONSOLE_LOGGING && console && console.log) {
               console.log(message);
           }
       }
       
       // Build card HTML
       function buildCardHTML(persona, isLongTitle) {
           return '<div class="card-inner">' +
               '<div class="card-front">' +
                   '<div class="front-container">' +
                       '<div class="card-header">' +
                           '<h1 class="persona-title ' + (isLongTitle ? 'long-title' : '') + '">' + persona.name + '</h1>' +
                       '</div>' +
                       '<div class="image-container">' +
                           '<img src="' + persona.image + '" alt="' + persona.name + '" onerror="this.parentNode.innerHTML=\'IMG\'">' +
                       '</div>' +
                       '<div class="stats-section">' +
                           '<div class="stat-item">' +
                               '<span class="stat-label">Age:</span>' +
                               '<span class="stat-value">' + persona.age + '</span>' +
                           '</div>' +
                           '<div class="stat-item">' +
                               '<span class="stat-label">Origin:</span>' +
                               '<span class="stat-value">' + persona.origin + '</span>' +
                           '</div>' +
                           '<div class="stat-item">' +
                               '<span class="stat-label">Likes:</span>' +
                               '<span class="stat-value">' + persona.likes + '</span>' +
                           '</div>' +
                           '<div class="stat-item">' +
                               '<span class="stat-label">Dislikes:</span>' +
                               '<span class="stat-value">' + persona.dislikes + '</span>' +
                           '</div>' +
                       '</div>' +
                       '<div class="quote-section">"' + persona.quote + '"</div>' +
                   '</div>' +
                   '<div class="mc-logo">' +
                       '<img src="' + CONFIG.IMAGES.MC_LOGO + '" alt="MC" class="mc-logo-img" onerror="this.style.display=\'none\'">' +
                   '</div>' +
                   '<div class="flip-hint">Click to flip</div>' +
                   '<div class="card-number">#' + persona.number + '</div>' +
               '</div>' +
               '<div class="card-back">' +
                   '<div class="back-container">' +
                       '<h2 class="back-title ' + (isLongTitle ? 'long-title' : '') + '">' + persona.name + ' (' + persona.year + ')</h2>' +
                       '<div class="info-section">' +
                           '<h3 class="section-title">Biography</h3>' +
                           '<div class="section-content">' + persona.biography + '</div>' +
                       '</div>' +
                       '<div class="info-section">' +
                           '<h3 class="section-title">Debut</h3>' +
                           '<div class="section-content">' + persona.debut + '</div>' +
                       '</div>' +
                       '<div class="info-section">' +
                           '<h3 class="section-title">Key Themes</h3>' +
                           '<div class="section-content">' + persona.themes + '</div>' +
                       '</div>' +
                   '</div>' +
                   '<div class="logo-space">' +
                       '<img src="' + CONFIG.IMAGES.BACK_LOGO + '" alt="Ultra Keith Logo" class="back-logo" onerror="this.style.display=\'none\'">' +
                   '</div>' +
                   '<div class="mc-logo">' +
                       '<img src="' + CONFIG.IMAGES.MC_LOGO + '" alt="MC" class="mc-logo-img" onerror="this.style.display=\'none\'">' +
                   '</div>' +
                   '<div class="card-number">#' + persona.number + '</div>' +
               '</div>' +
           '</div>';
       }
       
       // Generate cards
       function generateCards() {
           logSafely('📋 Generating cards...');
           var container = document.getElementById('cardsGrid');
           
           for (var i = 0; i < personasData.length; i++) {
               var persona = personasData[i];
               var isLongTitle = persona.name.length > CONFIG.CARD_LIMITS.LONG_TITLE_THRESHOLD;
               var card = document.createElement('div');
               
               card.className = 'trading-card';
               card.innerHTML = buildCardHTML(persona, isLongTitle);
               
               // Add flip functionality
               card.addEventListener('click', function() {
                   var personaName = this.querySelector('.persona-title').textContent;
                   logSafely('🃏 Flipping card: ' + personaName);
                   this.classList.toggle('flipped');
               });
               
               container.appendChild(card);
           }
           
           logSafely('✅ Generated ' + personasData.length + ' cards');
       }
       
       // Animation functions
       function createMysticalParticles(container, count) {
           if (!container) return;
           count = count || CONFIG.PARTICLE_COUNTS.MYSTICAL_PARTICLES;
           
           for (var i = 0; i < count; i++) {
               setTimeout(function(index) {
                   return function() {
                       var particle = document.createElement('div');
                       particle.className = 'mystical-particle';
                       
                       var centerX = container.offsetWidth / 2;
                       var centerY = container.offsetHeight / 2;
                       var angle = (Math.PI * 2 * index) / count;
                       var radius = 30 + Math.random() * 100;
                       
                       particle.style.left = (centerX + Math.cos(angle) * radius) + 'px';
                       particle.style.top = (centerY + Math.sin(angle) * radius) + 'px';
                       
                       var colors = CONFIG.COLORS.PARTICLE_COLORS;
                       particle.style.background = colors[Math.floor(Math.random() * colors.length)];
                       particle.style.animation = 'particle-burst 2s ease-out forwards';
                       
                       container.appendChild(particle);
                       
                       setTimeout(function() {
                           safeRemoveElement(particle);
                       }, CONFIG.ANIMATION_SPEEDS.PARTICLE_BURST);
                   };
               }(i), i * 30);
           }
       }
       
       function createEnergyWaves(container, count) {
           if (!container) return;
           count = count || CONFIG.PARTICLE_COUNTS.ENERGY_WAVES;
           
           for (var i = 0; i < count; i++) {
               setTimeout(function() {
                   var wave = document.createElement('div');
                   wave.className = 'energy-wave';
                   wave.style.animation = 'energy-wave-expand 1.5s ease-out forwards';
                   container.appendChild(wave);
                   
                   setTimeout(function() {
                       safeRemoveElement(wave);
                   }, CONFIG.ANIMATION_SPEEDS.ENERGY_WAVE);
               }, i * 200);
           }
       }
       
       function createScreenFlash() {
           if (!CONFIG.FEATURES.SCREEN_FLASH) return;
           
           var flash = document.createElement('div');
           flash.className = 'screen-flash';
           flash.style.animation = 'screen-flash-effect ' + (CONFIG.ANIMATION_SPEEDS.SCREEN_FLASH / 1000) + 's ease-out forwards';
           document.body.appendChild(flash);
           
           setTimeout(function() {
               safeRemoveElement(flash);
           }, CONFIG.ANIMATION_SPEEDS.SCREEN_FLASH);
       }
       
       function createCardBurst(container, count) {
           if (!container) return;
           count = count || CONFIG.PARTICLE_COUNTS.CARD_BURSTS;
           
           for (var i = 0; i < count; i++) {
               setTimeout(function() {
                   var cardBurst = document.createElement('div');
                   cardBurst.className = 'card-burst';
                   
                   var centerX = container.offsetWidth / 2;
                   var centerY = container.offsetHeight / 2;
                   cardBurst.style.left = (centerX + (Math.random() - 0.5) * 200) + 'px';
                   cardBurst.style.top = (centerY + (Math.random() - 0.5) * 200) + 'px';
                   
                   var moveX = (Math.random() - 0.5) * 400;
                   var moveY = (Math.random() - 0.5) * 400;
                   cardBurst.style.transform = 'translate(' + moveX + 'px, ' + moveY + 'px) rotate(' + (Math.random() * 360) + 'deg)';
                   cardBurst.style.animation = 'particle-burst 2.5s ease-out forwards';
                   
                   container.appendChild(cardBurst);
                   
                   setTimeout(function() {
                       safeRemoveElement(cardBurst);
                   }, 2500);
               }, i * 50);
           }
       }
       
       // Card flight animation
       function animateCardsFromDeck() {
           console.log('🎆 Animating cards flying from deck...');
           var cards = document.querySelectorAll('.trading-card');
           
           for (var i = 0; i < cards.length; i++) {
               var card = cards[i];
               
               setTimeout(function(index, cardElement) {
                   return function() {
                       var personaName = cardElement.querySelector('.persona-title').textContent;
                       console.log('🃏 Launching card ' + (index + 1) + ': ' + personaName);
                       addClassSafely(cardElement, 'card-flying');
                       
                       setTimeout(function() {
                           removeClassSafely(cardElement, 'card-flying');
                           addClassSafely(cardElement, 'card-landed');
                           console.log('✅ Card ' + (index + 1) + ' landed!');
                       }, CONFIG.ANIMATION_SPEEDS.CARD_FLIGHT);
                   };
               }(i, card), i * CONFIG.ANIMATION_SPEEDS.CARD_LAUNCH_INTERVAL);
           }
       }
       
       // Main deck setup
       function setupDeck() {
           console.log('🎮 Setting up mystical deck...');
           var deckBox = document.getElementById('deckBox');
           var deckContainer = document.getElementById('deckContainer');
           var cardsContainer = document.getElementById('cardsContainer');
           var nextButton = document.getElementById('nextButtonContainer');
           
           if (!deckBox) {
               console.error('❌ Deck box not found!');
               return;
           }
           
           console.log('✅ Deck box found:', deckBox);
           
           deckBox.addEventListener('mouseenter', function() {
               if (!deckOpened && CONFIG.FEATURES.HOVER_EFFECTS) {
                   logSafely('🌟 Mystical aura activated...');
                   addClassSafely(deckBox, 'mystical-hover');
               }
           });
           
           deckBox.addEventListener('mouseleave', function() {
               removeClassSafely(deckBox, 'mystical-hover');
           });
           
           deckBox.addEventListener('click', function() {
               console.log('🎯 MYSTICAL DECK CLICKED!');
               
               if (!deckOpened) {
                   logSafely('🎭 MYSTICAL PORTAL OPENING SEQUENCE INITIATED...');
                   deckOpened = true;
                   
                   removeClassSafely(deckBox, 'mystical-hover');
                   
                   logSafely('⚡ Phase 1: Energy building...');
                   addClassSafely(deckBox, 'energy-building');
                   
                   setTimeout(function() {
                       logSafely('🌊 Phase 2: Energy waves expanding...');
                       createEnergyWaves(deckContainer);
                   }, CONFIG.ANIMATION_SPEEDS.PORTAL_PHASES[1]);
                   
                   setTimeout(function() {
                       logSafely('💫 Phase 3: Mystical particle explosion!');
                       createMysticalParticles(deckContainer);
                   }, CONFIG.ANIMATION_SPEEDS.PORTAL_PHASES[2]);
                   
                   setTimeout(function() {
                       logSafely('🃏 Phase 4: Card burst sequence!');
                       createCardBurst(deckContainer);
                   }, CONFIG.ANIMATION_SPEEDS.PORTAL_PHASES[3]);
                   
                   setTimeout(function() {
                       logSafely('⚡ Phase 5: Reality-bending screen flash!');
                       createScreenFlash();
                   }, CONFIG.ANIMATION_SPEEDS.PORTAL_PHASES[4]);
                   
                   setTimeout(function() {
                       logSafely('✨ Phase 6: Portal opened - cards flying out!');
                       addClassSafely(deckContainer, 'hidden');
                       addClassSafely(cardsContainer, 'show');
                       addClassSafely(nextButton, 'show');
                       
                       setTimeout(function() {
                           animateCardsFromDeck();
                       }, 200);
                       
                       logSafely('🎮 Card interaction system will activate after flight!');
                   }, CONFIG.ANIMATION_SPEEDS.PORTAL_PHASES[5]);
               } else {
                   logSafely('⚠️ Portal already opened');
               }
           });
           
           console.log('✅ Mystical deck setup complete');
       }
       
       // Initialize everything
       document.addEventListener('DOMContentLoaded', function() {
           console.log('🎬 Page loaded - initializing...');
           
           try {
               generateCards();
               setupDeck();
               console.log('🎉 Ready! Click the mystical deck to open the portal!');
           } catch (error) {
               console.error('❌ Initialization failed:', error);
           }
       });
   </script>
</body>
</html>
